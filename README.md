# Simple Python rsa_aes
## Описание

Приложение Simple Python rsa_aes (далее - приложение) предназначено для простого шифрования файлов (в т.ч. архивов) 
с использованием алгоритмов ассиметричного шифрования RSA и симметричного шифрования AES. 
Приложение создано в учебных целях и не является криптографическим средством защиты информации.
 
Перед использованием приложения ознакомьтесь с условиями [пользовательского соглашения](./user_agreement.md). 
Использование приложения подтверждает факт согласия с его условиями.

Для корректной работы приложения необходимо установить библиотеки, перечисленные в файле 
[requirements.txt](./requirements.txt)

## Алгоритм действий пользователя
1. Принимающий пользователь задает имя проекта и вырабатывает ключевую пару по алгоритму RSA (команды описаны ниже). 
Файлы сохраняются в папке приложения в директорию keys (project_name.seprk - закрытый (секретный) ключ и 
project_name.sepbk - открытый ключ).
2. Любым удобным способом открытый ключ передается отправляющему пользователю.
3. Отправляющий пользователь зашифровывает необходимый файл (архив) с указанием полученного открытого ключа и любым
удобным способом передает его принимающему пользователю.
4. Принимающий пользователь расшифровывает полученный файл с использованием своего закрытого ключа.
В результате расшифровки формируется файл с расширением '.decrypted', это расширение необходимо удалить и файл будет 
готов к использованию.

ВАЖНО! Не рекомендуется изменять имена созданных приложением файлов, особенно расширение. Это может повлечь некорректную
работу приложения.

## Логика работы приложения
1. Генерация ключевой пары - Происходит выработка ключевой пары по алгоритму RSA и сохранение в папку keys файлов 
ключей с именованием файлов согласно имени проекта, введенном пользователем.
2. Шифрование файла - Происходит выработка сессионного ключа по алгоритму AES. С использованием этого ключа (AES) 
производится шифрование целевого файла. Сам сессионный ключ зашифровывается с использованием открытого ключа (RSA).
После этого зашифрованный сессионный ключ и зашифрованный файл объединяются в один файл с использованием секретной
последовательности в качестве разделителя (указана в качестве переменной "secret" в файле simple_crypto_utils.py).
3. Расшифрование файла - Происходит разбор полученного зашифрованного файла на сессионный ключ и целевой файл с помощью 
разделителя (описан выше). После этого расшифровывается сессионный ключ с помощью закрытого ключа проекта. После чего,
с помощью полученного сессионного ключа, расшифровывается сам целевой файл и сохраняется в той же директории, где лежит
зашифрованный файл.


## Использование приложения

Приложение запускается из командной строки путем запуска файла simple_crypto.py с необходимыми ключами.

### Описание ключей запуска приложения и возможных значений

- -a (--action) - обязательный ключ, описывающий необходимое действие:
    - keys - создание открытого и закрытого ключей по алгоритму RSA.
    - encrypt - зашифрование файла (необходимо наличие открытого ключа, полученного от партнера).
    - decrypt - расшифрование файла (необходимо наличие закрытого ключа).
- -n (--name) - имя проекта. Обязательный параметр для генерации ключевой пары (--adtion keys), созданные файлы получают
имя, введенное после этого ключа.
- -p (--path) - путь к файлу для шифрования/расшифрования. Обязательный параметр для зашифрования и расшифрования.
- -pk (--public_key) - путь к файлу открытого ключа. Обязательный параметр для шифрования.
- -prk (--private_key) - путь к файлу закрытого ключа. Обязательный параметр для расшифрования.

### Примеры использования
1. Создание ключей - 'python simple_crypto.py -a keys -n test_project'
2. Шифрование файла - 'python simple_crypto.py -a encrypt -p /home/user2/test.txt -pk /home/user2/test_project.sepbk'
3. Расшифрование файла - 'python simple_crypto.py -a decrypt -p /home/user1/test.txt.seef
 -prk /home/user1/test_project.seprk'

### Для ленивых реализовано GUI
1. Запуск приложения с GUI - 'python simple_crypto_gui.py'
2. В открывшемся окне присутствуют кнопки с инструкцией и всеми возможными функциями.